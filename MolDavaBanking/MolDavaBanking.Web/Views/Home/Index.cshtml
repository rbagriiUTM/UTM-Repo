@{
    ViewBag.Title = "Home Page";
}

<div id="lastTransaction" hidden="hidden" style="margin-top:50px; width:600px"></div>
<br />
<div id="averageTransactions" style="text-align-last:center; position:absolute; top:100px; left:900px;" hidden="hidden">
    <p style="font-size:x-large;" hidden="hidden" id="title">Your total transactions average:</p>
    @if (ViewBag.TransactionAverage != null)
    {
        foreach (var item in ViewBag.TransactionAverage)
        {
            <table class="table table-hover">
                <tr class="table-primary">
                    <td style="font-size:large;" id="items">
                        @item
                    </td>
                </tr>
            </table>
        }
    }
</div>

<div id="myCarousel" class="carousel slide" data-ride="carousel" hidden="hidden">
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img class="first-slide" src="~/Content/images/dev-ops.jpg" alt="First slide">
            <div class="container">
                <div class="carousel-caption">
                    <h3>DevOps</h3>
                    <p>DevOps are the future!</p>
                </div>
            </div>
        </div>
        @*<div class="item active">
            <img class="first-slide" src="~/content/images/1.jpg" alt="first slide">
            <div class="container">
                <div class="carousel-caption">
                    <h3>payments</h3>
                    <p>fastest paymets in the world implemented</p>
                </div>
            </div>
        </div>*@
        <div class="item">
            <img class="second-slide" src="~/Content/images/2.jpg" alt="Second slide">
            <div class="container">
                <div class="carousel-caption">
                    <h3>Fails</h3>
                    <p>And even if we fail, please sorry</p>
                </div>
            </div>
        </div>
        <div class="item">
            <img class="third-slide" src="~/Content/images/3.jpg" alt="Third slide">
            <div class="container">
                <div class="carousel-caption">
                    <h3 style="color:gray">Endava</h3>
                    <p style="color:gray">Thanks for the internship</p>
                </div>
            </div>
        </div>
    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div class="container marketing" id="marketing" hidden="hidden">
    <div class="row">

        <div class="col-lg-4">
            <img class="img-circle" src="~/Content/images/habits.png" alt="Generic placeholder image" width="140" height="140">
            <h2>Better Money Habits</h2>
            <p>When it comes to your money, a little knowledge can go a long way. This better money habits guide will show you how to treat money the right way: so that it lasts and works for you.</p>
            <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
        </div>

        <div class="col-lg-4">
            <img class="img-circle" src="~/Content/images/expectmore.png" alt="Generic placeholder image" width="140" height="140">
            <h2>Expect more with us</h2>
            <p>We need to Expect More. We have the opportunity to shape the future by investing now in the right advanced-skills training and education.</p>
            <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
        </div>

        <div class="col-lg-4">
            <img class="img-circle" src="~/Content/images/support.png" alt="Generic placeholder image" width="140" height="140">
            <h2>Support 24/7</h2>
            <p>MolDava Banking provides global support, reducing the associated risks and business disruption. Our support team is committed to delivering timely response.</p>
            <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
        </div>

    </div>
</div>

<style>
    body {
        padding-bottom: 40px;
        color: #5a5a5a;
    }

    .navbar-wrapper {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        z-index: 20;
    }

        .navbar-wrapper > .container {
            padding-right: 0;
            padding-left: 0;
        }

        .navbar-wrapper .navbar {
            padding-right: 15px;
            padding-left: 15px;
        }

            .navbar-wrapper .navbar .container {
                width: auto;
            }

    .carousel {
        height: 500px;
        margin-bottom: 60px;
    }

    .carousel-caption {
        z-index: 10;
    }

    .carousel .item {
        height: 500px;
        background-color: #777;
    }

    .carousel-inner > .item > img {
        position: absolute;
        top: 0;
        left: 0;
        min-width: 100%;
        height: 500px;
    }

    .marketing .col-lg-4 {
        margin-bottom: 20px;
        text-align: center;
    }

    .marketing h2 {
        font-weight: 400;
    }

    .marketing .col-lg-4 p {
        margin-right: 10px;
        margin-left: 10px;
    }

    .featurette-divider {
        margin: 80px 0;
    }

    .featurette-heading {
        font-weight: 300;
        line-height: 1;
        letter-spacing: -1px;
    }

    .navbar-wrapper .container {
        padding-right: 15px;
        padding-left: 15px;
    }

    .navbar-wrapper .navbar {
        padding-right: 0;
        padding-left: 0;
        border-radius: 4px;
    }

    .carousel-caption p {
        margin-bottom: 20px;
        font-size: 21px;
        line-height: 1.4;
    }

    .featurette-heading {
        font-size: 50px;
    }
</style>

<script src="~/Scripts/bootstrap.js"></script>

<!-- jTable style file -->
<link href="~/Scripts/jtable/themes/lightcolor/blue/jtable.css" rel="stylesheet" type="text/css" />
<script src="~/Scripts/jquery-1.12.4.js"></script>
<script src="~/Scripts/jquery-ui.js"></script>
<!-- A helper library for JSON serialization -->
<script type="text/javascript" src="~/Scripts/jtable/external/json2.js"></script>
<!-- Core jTable script file -->
<script type="text/javascript" src="~/Scripts/jtable/jquery.jtable.js"></script>
<!-- ASP.NET Web Forms extension for jTable -->
<script type="text/javascript" src="~/Scripts/jtable/extensions/jquery.jtable.aspnetpagemethods.js"></script>

<script type="text/javascript">

    $(document).ready(function () {

        var isClient = '@(User.Identity.IsAuthenticated && User.IsInRole("Client"))';
        if (isClient == 'True') {
            $('#lastTransaction').show();
            $("#averageTransactions").show();
            $("#title").show();
            $("#items").show();
        }
        else {
            $("#wecomeMessage").show();
            $("#myCarousel").show();
            $("#marketing").show();
        }

        });

    $('#lastTransaction').jtable({
        title: 'TOP 10 Transactions',
        pageSize: 10,
        width: '100%',
        defaultSorting: 'Name ASC',
        actions: {
            listAction: '/Transaction/LastTransactions',
        },
        fields: {
            TransactionNumber: {
                title: 'TransactionNumber',
                width: '10%',
                list: true
            },
            CreatedDate: {
                title: 'CreatedDate',
                list: true,
                type: 'date',
                displayFormat: 'yy-mm-dd'
            },
            Status: {
                title: 'Status',
                list: true,
                options: { '0': 'Pending', '1': 'Completed', '2': 'Processing', '3': 'Canceled' }
            },
            Amount: {
                title: 'Amount',
                width: '13%',
                list: true
            },
            Currency: {
                title: 'Currency',
                width: '12%',
                options: { '0': 'EUR', '1': 'USD', '2': 'MDL', '3': 'RUB' }
            }
        }
    });
    $('#lastTransaction').jtable('load');
</script>
